<VirtualHost *:80>
    ServerName digit-recognizer.example.com
    ServerAdmin webmaster@example.com

    # Replace with your actual project path
    DocumentRoot /var/www/fgs2025-digit-recognizer-ml/src

    # Log files
    ErrorLog ${APACHE_LOG_DIR}/digit-recognizer-error.log
    CustomLog ${APACHE_LOG_DIR}/digit-recognizer-access.log combined

    # WSGI configuration
    WSGIDaemonProcess digit-recognizer python-path=/var/www/fgs2025-digit-recognizer-ml/src:/var/www/fgs2025-digit-recognizer-ml/venv/lib/python3.8/site-packages
    WSGIProcessGroup digit-recognizer
    WSGIScriptAlias / /var/www/fgs2025-digit-recognizer-ml/src/wsgi.py

    # Static files handling
    Alias /static/ /var/www/fgs2025-digit-recognizer-ml/src/static/
    <Directory /var/www/fgs2025-digit-recognizer-ml/src/static>
        Require all granted
    </Directory>

    # Access to the WSGI file and app directory
    <Directory /var/www/fgs2025-digit-recognizer-ml/src>
        <Files wsgi.py>
            Require all granted
        </Files>
        Require all granted
    </Directory>

    # Image directories access
    Alias /images/ /var/www/fgs2025-digit-recognizer-ml/src/collected_images/
    <Directory /var/www/fgs2025-digit-recognizer-ml/src/collected_images>
        Require all granted
    </Directory>

    Alias /predictions/ /var/www/fgs2025-digit-recognizer-ml/src/predicted_images/
    <Directory /var/www/fgs2025-digit-recognizer-ml/src/predicted_images>
        Require all granted
    </Directory>
</VirtualHost> 